---
layout: default
title: Метод Friends.GetRequests
permalink: friends/getRequests/
comments: true
---
# Метод Friends.GetRequests
Возвращает информацию о полученных или отправленных заявках на добавление в друзья для текущего пользователя.

Этот метод можно вызвать с [ключом доступа пользователя](https://vk.com/dev/access_token). Требуются [права доступа](https://vk.com/dev/permissions): **friends**.

Страница документации ВКонтакте [friends.getRequests](https://vk.com/dev/friends.getRequests).

## Синтаксис
``` csharp
public IDictionary<long, ReadOnlyCollection<long>> GetRequests(FriendsGetRequestsParams @params)
```

## Параметры
Класс **`FriendsGetRequestsParams`** содержит следующие свойства:

+ **offset** — смещение, необходимое для выборки определенного подмножества заявок на добавление в друзья.
+ **count** — максимальное количество заявок на добавление в друзья, которые необходимо получить (не более *1000*). По умолчанию — *100*.
+ **extended** — определяет, требуется ли возвращать в ответе сообщения от пользователей, подавших заявку на добавление в друзья. И отправителя рекомендации при (suggested=1).
+ **need_mutual** — определяет, требуется ли возвращать в ответе список общих друзей, если они есть. Обратите внимание, что при использовании *need_mutual* будет возвращено не более 2 заявок.
+ **out** — *0* — возвращать полученные заявки в друзья (по умолчанию), *1* — возвращать отправленные пользователем заявки.
+ **sort** — *0* — сортировать по дате добавления, *1* — сортировать по количеству общих друзей. (Если *out = **1*, данный параметр не учитывается).
+ **need_viewed** — *0* — не возвращать просмотренные заявки, *1*  — возвращать просмотренные заявки. (Если *out* *=* *1*, данный параметр не учитывается).
+ **sort** — *1* — возвращать рекомендованных другими пользователями друзей, *0* — возвращать заявки в друзья (по умолчанию).
+ **ref** — ?строка, максимальная длина 255.
+ **fields** — ?список слов, разделенных через запятую.

## Результат
+ Если не установлен параметр *need_mutual*, то в случае успеха возвращает отсортированный в антихронологическом порядке по времени подачи заявки список идентификаторов (**id**) пользователей (кому или от кого пришла заявка).

+ Если установлен параметр *need_mutual*, то в случае успеха возвращает отсортированный в антихронологическом порядке по времени подачи заявки массив объектов, содержащих информацию о заявках на добавление в друзья. Каждый из объектов содержит поле **uid**, являющийся идентификатором пользователя. При наличии общих друзей, в объекте будет содержаться поле *mutual*, в котором будет находиться список идентификаторов общих друзей.

## Исключения
+ В ходе выполнения могут произойти общие ошибки. Их описание находится на [отдельной странице](https://vk.com/dev/errors).


## Пример
``` csharp
var getRequests = _api.Friends.GetRequests(new FriendsGetRequestsParams{
	
});
```

## Версия Вконтакте API v.5.103
Дата обновления: 17.01.2020 16:47.
